(this["webpackJsonpphoto-album"]=this["webpackJsonpphoto-album"]||[]).push([[0],{71:function(e,t,n){},77:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(22),i=n.n(r),s=n(20),o=n(35),u=n(6),d=(n(71),n(2)),j=function(){return Object(d.jsx)("header",{className:"header",children:Object(d.jsxs)("div",{className:"header-wrapper",children:[Object(d.jsx)(s.b,{exact:!0,to:"/",className:"header__link",children:Object(d.jsx)("h2",{children:"\u0418\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0435"})}),Object(d.jsx)(s.b,{to:"/\u041f\u0442\u0438\u0446\u044b",className:"header__link",children:Object(d.jsx)("h2",{children:"\u041f\u0442\u0438\u0446\u044b"})}),Object(d.jsx)(s.b,{to:"/\u0417\u0434\u0430\u043d\u0438\u044f",className:"header__link",children:Object(d.jsx)("h2",{children:"\u0417\u0434\u0430\u043d\u0438\u044f"})}),Object(d.jsx)(s.b,{to:"/\u041f\u043e\u0433\u043e\u0434\u0430",className:"header__link",children:Object(d.jsx)("h2",{children:"\u041f\u043e\u0433\u043e\u0434\u0430"})})]})})},l=n(109),b=n(110),h=n(53),f=n.n(h),p=n(107),O=n(115),m=(n(77),Object(p.a)((function(e){return Object(O.a)({paper:{textAlign:"center",color:e.palette.text.secondary,width:"100%",height:"100%",backgroundPosition:"center",backgroundSize:"cover"}})}))),x=function(e){var t=e.item,n=e.selectItem,c=m();return Object(d.jsxs)(l.a,{item:!0,xs:6,sm:4,md:4,className:"card",children:[Object(d.jsx)(b.a,{className:c.paper,style:{backgroundImage:"url(".concat(t.largeImageURL,")")}}),Object(d.jsx)(f.a,{className:"card__btn",onClick:function(){return n(t)}})]})},g=n(56),v=n(57),k=n(16),y=Object(k.b)("@@FAVORITES/add"),w=Object(k.b)("@@FAVORITES/delete"),N=Object(k.d)([],(function(e){e.addCase(y,(function(e,t){var n=t.payload;return[].concat(Object(v.a)(e),[n])})).addCase(w,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))}))})),C=n(28),_=n.n(C),A=n(39),I=function(){var e=Object(A.a)(_.a.mark((function e(t,n){var c,a,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="https://pixabay.com/api/?key=".concat("22102100-24bf47b31d22cf966c04cfe4d","&q=").concat(t,"&image_type=photo&pretty=true&page=").concat(n),e.prev=1,e.next=4,fetch(c);case 4:return a=e.sent,e.next=7,a.json();case 7:return r=e.sent,e.abrupt("return",r.hits);case 11:if(e.prev=11,e.t0=e.catch(1),!e.t0){e.next=15;break}return e.abrupt("return",e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),R=Object(k.c)("@@DATA/fetchDataList",function(){var e=Object(A.a)(_.a.mark((function e(t){var n,c,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.searchParam,c=t.page,e.next=3,I(n,c);case 3:return a=e.sent,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=Object(k.e)({name:"@@DATA",initialState:{data:[],status:"idle"},reducers:{},extraReducers:function(e){e.addCase(R.pending,(function(e){e.status="pending"})),e.addCase(R.fulfilled,(function(e,t){e.data=t.payload,e.status="succeeded"})),e.addCase(R.rejected,(function(e){e.status="failed"}))}}).reducer,P=function(){return Object(o.b)()},T=o.c,E=n(112),D=(n(83),function(e){e.match;var t=e.page,n=e.handleChange;return Object(d.jsx)("div",{children:Object(d.jsx)(E.a,{className:"pagination",count:10,page:t,onChange:n})})}),z=n(111),F=n(113),G=Object(u.f)((function(e){var t=e.match,n=e.history,r=a.a.useState(1),i=Object(g.a)(r,2),s=i[0],o=i[1],u=P(),j=T((function(e){return e.imagesSlice.data})),b=T((function(e){return e.imagesSlice.status})),h=T((function(e){return e.favoritesReducer}));n.listen((function(){o(1)})),Object(c.useEffect)((function(){u(R({searchParam:t.params.id,page:s}))}),[u,t.params.id,s]);var f=function(e){var t=h.find((function(t){return t.id===e.id}));u(t?w(e.id):y(e))};return"pending"===b?Object(d.jsx)(z.a,{}):"failed"===b?Object(d.jsx)(F.a,{severity:"error",children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435."}):Object(d.jsxs)("div",{children:[Object(d.jsx)(l.a,{container:!0,spacing:1,children:j.map((function(e){return Object(d.jsx)(x,{item:e,selectItem:f},e.id)}))}),Object(d.jsx)(D,{match:t.params.id,page:s,setPage:o,handleChange:function(e,n){o(n),u(R({searchParam:t.params.id,page:s}))}})]})})),J=Object(p.a)((function(e){return Object(O.a)({root:{flexGrow:1}})})),L=function(){var e=P(),t=T((function(e){return e.favoritesReducer})),n=J(),c=function(t){e(w(t.id))};return 0===t.length?Object(d.jsx)("h3",{children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u044b\u0445 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a"}):Object(d.jsx)("div",{className:n.root,children:Object(d.jsx)(l.a,{container:!0,spacing:1,children:t.map((function(e){return Object(d.jsx)(x,{item:e,selectItem:c},e.id)}))})})},V=(n(84),Object(p.a)((function(){return Object(O.a)({root:{flexGrow:1,padding:"10px"}})}))),q=function(){var e=V();return Object(d.jsxs)("div",{children:[Object(d.jsx)(j,{}),Object(d.jsx)("div",{className:e.root,children:Object(d.jsxs)(u.c,{children:[Object(d.jsx)(u.a,{exact:!0,path:"/",component:L}),Object(d.jsx)(u.a,{path:"/:id",component:G})]})})]})},B=n(18),U=n(54),H=n.n(U),K=n(12),M=Object(K.b)({imagesSlice:S,favoritesReducer:N}),Q={key:"root",version:1,storage:H.a,whitelist:["favoritesReducer"]},W=Object(k.f)({immutableCheck:!1,serializableCheck:{ignoredActions:[B.a,B.f,B.b,B.c,B.d,B.e]},thunk:!0}),X=Object(B.g)(Q,M),Y=Object(k.a)({reducer:X,middleware:W,devTools:!1}),Z=n(55),$=Object(B.h)(Y);i.a.render(Object(d.jsx)(o.a,{store:Y,children:Object(d.jsx)(Z.a,{persistor:$,loading:null,children:Object(d.jsx)(s.a,{children:Object(d.jsx)(q,{})})})}),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.e9ef6735.chunk.js.map